{% extends 'base.html' %}
{% block title %}
    Create a new blog post
{% endblock title %}
{% block main %}
    <form class="needs-validation" action="{{ url_for('writter', article_id=article_id or None) }}" method="post">
        {{ form.hidden_tag() }}
        <div class="form-row">
            <label for="validationCustom01">Title</label>
            {{ form.title(placeholder="a new post: a new title",
                id="title", class="form-control", required="",) }}
            <div class="valid-feedback">
                Looks good!
            </div>
            <label class="mt-3" for="validationCustom02">Summary</label>
            {{ form.summary(placeholder="short snippet for the post", id="summary",
                class="form-control", required="",) }}
            <div class="valid-feedback">
                Looks good!
            </div>
            <label class="mt-3" for="validationCustom02">Slug</label>
            {{ form.slug(
                placeholder="Optional-slug-of-field", id="slug",class="form-control",) }}
            <label class="mt-3" for="validationCustom02">Writeup</label>
            {{ form.content(
                placeholder="# Write in *Markdown* `syntax`",
                id="content", class="form-control", rows="15", required="",) }}
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="col-sm-6 mt-3">
                <label for="validationCustom02">Tags</label>
                {{ form.tags(id="tags", placeholder="Comma separated tags",
                    class="form-control", required="") }}
                <div class="valid-feedback">
                    Looks good!
                </div>
            </div>
            <!--Post Date-->
            <div class="col-sm-6 mt-3">
                <label>Date</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroupPrepend">
                            <i class="material-icons">date_range</i>
                        </span>
                    </div>
                    {{ form.last_mod_date(class="form-control",
                        **{'aria-describedby':"inputGroupPrepend"},) }}
                </div>
            </div>
            <div class="col-12 mt-3">
                <div class="form-check form-check-inline col-2 mt-2">
                    {{ form.draft(id="draft") }}
                    <label class="form-check-label" for="inlineCheckbox1">
                        draft
                    </label>
                </div>
                <button class="btn btn-primary col-9" style="float:right;" type="submit">
                    Submit form
                </button>
            </div>
        </div>
        
    </form>
{% endblock main %}

{% block sidebar %}           
    <div class="container">
        <li ><a href="#how-it-works">How it works</a></li>
        <li ><a href="#supported-content">Supported content</a>
        <ul>
        <li ><a href="#brand">Brand</a></li>
        <li ><a href="#nav">Nav</a></li>
        <li ><a href="#forms">Forms</a></li>
        <li ><a href="#text">Text</a></li>
        </ul>
        </li>
        <li ><a href="#color-schemes">Color schemes</a></li>
        <li ><a href="#containers">Containers</a></li>
        <li ><a href="#placement">Placement</a></li>
        <li ><a href="#responsive-behaviors">Responsive behaviors</a>
        <ul>
        <li ><a href="#toggler">Toggler</a></li>
        <li ><a href="#external-content">External content</a></li>
        </ul>
        </li>
    </div>
{% endblock sidebar %}
    
{% block extrascript %}
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function() {
          'use strict';
          window.addEventListener('load', function() {
            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.getElementsByClassName('needs-validation');
            // Loop over them and prevent submission
            var validation = Array.prototype.filter.call(forms, function(form) {
              form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            });
          }, false);
        })();
    </script>
{% endblock extrascript %}